import{r as f,a as j,d as y,j as s,e as p,h as b,J as C}from"./index-8qznlozp.js";import{A as T,D as F,w as M,e as P}from"./index-CMo7Tlew.js";import{a as v}from"./userApi-BgumEB5T.js";import{F as D,P as S}from"./Tab-n78jM2ZM.js";import{B as n,T as l,a as k}from"./TextField-DvMWTNB1.js";import{c as z}from"./Modal-kI_m7u7q.js";const I=({user:e,isMobile:i})=>{const[r,t]=f.useState(!1),[x,a]=f.useState(""),d=j(),[u]=y(),c=o=>{a(o),t(!0)},h=()=>{t(!1),a("")},g=()=>{u(e._id).unwrap().then(o=>{o.status===200&&d(p({message:"Follow request sent successfully",severity:"success"}))}).catch(o=>{var m;console.error(o);const w=((m=o==null?void 0:o.data)==null?void 0:m.message)||"Something went wrong";d(p({message:w,severity:"error"}))})};return s.jsxs(n,{sx:{display:"flex",flexDirection:{xs:"column",sm:"row"},alignItems:"center",justifyContent:"space-between",gap:{xs:3,sm:10},marginBottom:3,width:"80%",borderBottom:"1px solid #e0e0e0",paddingX:{xs:2,sm:10},paddingY:{xs:2,sm:5}},children:[s.jsx(T,{sx:{width:{xs:80,sm:140},height:{xs:80,sm:140},margin:{xs:"auto",sm:"0"}},src:e.profileImage,alt:"Profile Picture"}),s.jsxs(n,{sx:{flexGrow:1},children:[s.jsxs(n,{sx:{display:"flex",alignItems:"center",justifyContent:{xs:"center",sm:"flex-start"},flexDirection:{xs:"column",sm:"row"},gap:4},children:[s.jsx(l,{variant:"h5",sx:{fontSize:{xs:"18px",sm:"24px"}},children:e.userName}),s.jsx(n,{sx:{display:"flex",gap:2,flexDirection:{xs:"column",sm:"row"},width:{xs:"100%",sm:"auto"}},children:s.jsx(k,{variant:"outlined",size:i?"small":"medium",fullWidth:i,sx:{borderRadius:"10px",textTransform:"none",backgroundColor:"#f5f5f5",borderColor:"#dbdbdb",color:"#262626","&:hover":{backgroundColor:"white",borderColor:"#dbdbdb"},minWidth:{xs:"100%",sm:"120px"}},onClick:g,children:"Follow"})})]}),s.jsxs(n,{sx:{display:"flex",justifyContent:{xs:"center",sm:"flex-start"},gap:{xs:2,sm:4},marginTop:2},children:[s.jsxs(l,{sx:{fontSize:{xs:"14px",sm:"16px"}},children:[s.jsx("strong",{children:e.postCount??0})," posts"]}),s.jsxs(l,{sx:{fontSize:{xs:"14px",sm:"16px"}},onClick:()=>c("followers"),children:[s.jsx("strong",{children:e.followersCount??0})," followers"]}),s.jsxs(l,{sx:{fontSize:{xs:"14px",sm:"16px"}},onClick:()=>c("following"),children:[s.jsx("strong",{children:e.followingCount??0})," following"]})]}),s.jsx(l,{sx:{fontWeight:"bold",marginTop:{xs:1,sm:2},fontSize:{xs:"14px",sm:"16px"},textAlign:{xs:"center",sm:"left"}},children:e.fullName})]}),r&&s.jsx(D,{open:r,onClose:h,modalType:x,userId:e._id})]})},U=()=>{const e=b(),i=z(e.breakpoints.down("sm")),{userId:r}=C(),{data:t,isLoading:x,isFetching:a}=v(r);return x||a?s.jsx(l,{children:"Loading..."}):s.jsxs(n,{sx:{padding:{xs:2,sm:5},backgroundColor:"#fff",color:"#000",minHeight:"100vh",width:"100%",justifyItems:"center"},children:[s.jsx(I,{user:t==null?void 0:t.payload,isMobile:i}),s.jsx(F,{}),s.jsx(S,{userId:r,isMobile:i})]})},B=()=>s.jsx(P,{children:s.jsx(U,{})}),E=M(B);export{B as UserProfilePage,E as default};
