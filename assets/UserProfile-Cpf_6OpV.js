import{r as p,l as y,o as b,j as s,p as f,v as C,J as F}from"./index-xauWBcVr.js";import{A as P,f as T,D as v,w as M,e as D}from"./index-YYnyLx-K.js";import{d as S}from"./userApi-DpGwQIL2.js";import{a as k,F as B,P as z}from"./Tab-CHaSP1ii.js";import{B as n,T as l,a as I}from"./TextField-D0vvW4Bl.js";import"./Modal-BwFPo7gW.js";const u=o=>({variant:"contained",size:o?"small":"medium",fullWidth:o,sx:{borderRadius:"10px",textTransform:"none",backgroundColor:"#f5f5f5",borderColor:"#dbdbdb",color:"#262626","&:hover":{backgroundColor:"white",borderColor:"#dbdbdb"},minWidth:{xs:"100%",sm:"120px"}}}),U=({user:o,isMobile:i})=>{const[a,t]=p.useState(!1),[x,r]=p.useState(""),d=y(),[h]=b(),c=e=>{r(e),t(!0)},g=()=>{t(!1),r("")},w=()=>{h(o._id).unwrap().then(e=>{e.status===200&&d(f({message:"Follow request sent successfully",severity:"success"}))}).catch(e=>{var m;const j=((m=e==null?void 0:e.data)==null?void 0:m.message)||"Something went wrong";d(f({message:j,severity:"error"}))})};return s.jsxs(n,{sx:{display:"flex",flexDirection:{xs:"column",sm:"row"},alignItems:"center",justifyContent:"space-between",gap:{xs:3,sm:10},marginBottom:3,width:"80%",borderBottom:"1px solid #e0e0e0",paddingX:{xs:2,sm:10},paddingY:{xs:2,sm:5}},children:[s.jsx(P,{sx:{width:{xs:80,sm:140},height:{xs:80,sm:140},margin:{xs:"auto",sm:"0"}},src:o.profileImage,alt:"Profile Picture"}),s.jsxs(n,{sx:{flexGrow:1},children:[s.jsxs(n,{sx:{display:"flex",alignItems:"center",justifyContent:{xs:"center",sm:"flex-start"},flexDirection:{xs:"column",sm:"row"},gap:4},children:[s.jsx(l,{variant:"h5",sx:{fontSize:{xs:"18px",sm:"24px"}},children:o.userName}),s.jsx(n,{sx:{display:"flex",gap:2,flexDirection:{xs:"column",sm:"row"},width:{xs:"100%",sm:"auto"}},children:o.isFollowing?s.jsx(k,{user:o,buttonProps:u(i)}):s.jsx(I,{...u(i),onClick:w,children:"Follow"})})]}),s.jsxs(n,{sx:{display:"flex",justifyContent:{xs:"center",sm:"flex-start"},gap:{xs:2,sm:4},marginTop:2},children:[s.jsxs(l,{sx:{fontSize:{xs:"14px",sm:"16px"}},children:[s.jsx("strong",{children:o.postCount??0})," posts"]}),s.jsxs(l,{sx:{fontSize:{xs:"14px",sm:"16px"}},onClick:()=>c("followers"),children:[s.jsx("strong",{children:o.followersCount??0})," followers"]}),s.jsxs(l,{sx:{fontSize:{xs:"14px",sm:"16px"}},onClick:()=>c("following"),children:[s.jsx("strong",{children:o.followingCount??0})," following"]})]}),s.jsx(l,{sx:{fontWeight:"bold",marginTop:{xs:1,sm:2},fontSize:{xs:"14px",sm:"16px"},textAlign:{xs:"center",sm:"left"}},children:o.fullName})]}),a&&s.jsx(B,{open:a,onClose:g,modalType:x,userId:o._id})]})},A=()=>{const o=C(),i=T(o.breakpoints.down("sm")),{userId:a}=F(),{data:t,isLoading:x,isFetching:r}=S(a);return x||r?s.jsx(l,{children:"Loading..."}):s.jsxs(n,{sx:{padding:{xs:2,sm:5},backgroundColor:"#fff",color:"#000",minHeight:"100vh",width:"100%",justifyItems:"center"},children:[s.jsx(U,{user:t==null?void 0:t.payload,isMobile:i}),s.jsx(v,{}),s.jsx(z,{userId:a,isMobile:i})]})},R=()=>s.jsx(D,{children:s.jsx(A,{})}),N=M(R);export{R as UserProfilePage,N as default};
